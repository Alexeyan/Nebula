!function(e){"use strict";function t(){this.$dom=e(document),this.$html=this.$dom.find("html"),this.isOldie=!!this.$html.hasClass("oldie"),this.click="click",this.onReady=this.onOldie=this.onTouch=!1,this.autoInit="false"===e("script[gumby-init]").attr("gumby-init")?!1:!0,this.debugMode=Boolean(e("script[gumby-debug]").length),this.touchDevice=!!(Modernizr.touch||window.navigator.userAgent.indexOf("Windows Phone")>0),this.gumbyTouch=!1,this.touchEvents="js/libs",this.breakpoint=Number(e("script[gumby-breakpoint]").attr("gumby-breakpoint"))||768,this.touchEventsLoaded=!1,this.uiModulesReady=!1,this.uiModules={},this.inits={};var t=e("script[gumby-touch]").attr("gumby-touch"),n=e("script[gumby-path]").attr("gumby-path");"false"===t?this.touchEvents=!1:t?this.touchEvents=t:n&&(this.touchEvents=n),this.touchDevice&&(this.click+=" tap"),this.touchDevice&&e(window).width()<this.breakpoint?(this.$html.addClass("gumby-touch"),this.gumbyTouch=!0):this.$html.addClass("gumby-no-touch"),this.debugMode&&this.debug("Gumby is in debug mode")}t.prototype.init=function(e){var t=this,n=e?e:{};return this.$dom.ready(function(){n.debug&&(t.debugMode=!0),t.debug("Initializing Gumby");var e=n.uiModules?n.uiModules:!1;t.initUIModules(e),t.onReady&&t.onReady(),t.isOldie&&t.onOldie&&t.onOldie(),Modernizr.touch&&t.onTouch&&t.onTouch()}),this},t.prototype.helpers=function(){this.onReady&&this.onReady(),this.isOldie&&this.onOldie&&this.onOldie(),Modernizr.touch&&this.onTouch&&this.onTouch()},t.prototype.ready=function(e){return e&&"function"==typeof e&&(this.onReady=e),this},t.prototype.oldie=function(e){return e&&"function"==typeof e&&(this.onOldie=e),this},t.prototype.touch=function(e){return e&&"function"==typeof e&&(this.onTouch=e),this},t.prototype.console=function(e,t){this.debugMode&&window.console&&console[console[e]?e:"log"](t.length>1?Array.prototype.slice.call(t):t[0])},t.prototype.log=function(){this.console("log",arguments)},t.prototype.debug=function(){this.console("debug",arguments)},t.prototype.warn=function(){this.console("warn",arguments)},t.prototype.error=function(){this.console("error",arguments)},t.prototype.dump=function(){return{$dom:this.$dom,isOldie:this.isOldie,touchEvents:this.touchEvents,debugMode:this.debugMode,autoInit:this.autoInit,uiModules:this.uiModules,click:this.click}},t.prototype.selectAttr=function(){for(var e=0;e<arguments.length;e++){var t=arguments[e],n="data-"+arguments[e],r="gumby-"+arguments[e];if(this.is("["+n+"]"))return this.attr(n)?this.attr(n):!0;if(this.is("["+r+"]"))return this.attr(r)?this.attr(r):!0;if(this.is("["+t+"]"))return this.attr(t)?this.attr(t):!0}return!1},t.prototype.addInitalisation=function(e,t){this.inits[e]=t},t.prototype.initialize=function(e,t){if("object"==typeof e){var n=0;for(n;n<e.length;n++)this.inits[e[n]]&&"function"==typeof this.inits[e[n]]?this.inits[e[n]](t):this.error("Error initializing module: "+e[n])}else this.inits[e]&&"function"==typeof this.inits[e]?this.inits[e](t):this.error("Error initializing module: "+e);return this},t.prototype.UIModule=function(e){var t=e.module;this.uiModules[t]=e},t.prototype.initUIModules=function(e){var t,n,r=this.uiModules;e&&(r=e);for(t in r)n=e?r[t]:t,this.uiModules[n].init()},window.Gumby=new t}(jQuery),!function(e){"use strict";function t(e){Gumby.debug("Initializing Checkbox",e),this.$el=e,this.$input=this.$el.find("input[type=checkbox]");var t=this;this.$el.on(Gumby.click,function(e){e.preventDefault(),t.$input.is("[disabled]")||(t.$el.hasClass("checked")?t.update(!1):t.update(!0))}).on("gumby.check",function(){Gumby.debug("Check event triggered",t.$el),t.update(!0)}).on("gumby.uncheck",function(){Gumby.debug("Uncheck event triggered",t.$el),t.update(!1)}),(this.$input.prop("checked")||this.$el.hasClass("checked"))&&t.update(!0)}t.prototype.update=function(e){var t=this.$el.find("span");e?(Gumby.debug("Checking Checkbox",this.$el),t.append('<i class="icon-check" />'),this.$input.prop("checked",!0),Gumby.debug("Triggering onCheck event",this.$el),Gumby.debug("Triggering onChange event",this.$el),this.$el.addClass("checked").trigger("gumby.onCheck").trigger("gumby.onChange")):(Gumby.debug("Unchecking Checkbox",this.$el),this.$input.prop("checked",!1),t.find("i").remove(),Gumby.debug("Triggering onUncheck event",this.$el),Gumby.debug("Triggering onChange event",this.$el),this.$el.removeClass("checked").trigger("gumby.onUncheck").trigger("gumby.onChange"))},Gumby.addInitalisation("checkbox",function(){e(".checkbox").each(function(){var n=e(this);return n.data("isCheckbox")?!0:(n.data("isCheckbox",!0),new t(n),void 0)})}),Gumby.UIModule({module:"checkbox",events:["onCheck","onUncheck","onChange","check","uncheck"],init:function(){Gumby.initialize("checkbox")}})}(jQuery),!function(e){"use strict";function t(t){Gumby.debug("Initializing Fixed Position",t),this.$el=t,this.fixedPoint="",this.pinPoint=!1,this.offset=0,this.pinOffset=0,this.top=0,this.constrainEl=!0,this.state=!1,this.measurements={left:0,width:0},this.setup();var n=this;e(window).on("scroll load",function(){n.monitorScroll()}),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing Fixed Position",t),n.setup(),n.monitorScroll()})}t.prototype.setup=function(){var t=this;this.fixedPoint=this.parseAttrValue(Gumby.selectAttr.apply(this.$el,["fixed"])),this.pinPoint=Gumby.selectAttr.apply(this.$el,["pin"])||!1,this.offset=Number(Gumby.selectAttr.apply(this.$el,["offset"]))||0,this.pinOffset=Number(Gumby.selectAttr.apply(this.$el,["pinoffset"]))||0,this.top=Number(Gumby.selectAttr.apply(this.$el,["top"]))||0,this.constrainEl=Gumby.selectAttr.apply(this.$el,["constrain"])||!0,"false"===this.constrainEl&&(this.constrainEl=!1),this.$parent=this.$el.parents(".columns, .column, .row"),this.$parent=this.$parent.length?this.$parent.first():!1,this.parentRow=this.$parent?!!this.$parent.hasClass("row"):!1,this.pinPoint&&(this.pinPoint=this.parseAttrValue(this.pinPoint)),this.$parent&&this.constrainEl&&(this.measure(),e(window).resize(function(){t.state&&(t.measure(),t.constrain())}))},t.prototype.monitorScroll=function(){var t=e(window).scrollTop(),n=this.fixedPoint instanceof jQuery?this.fixedPoint.offset().top:this.fixedPoint,r=!1;this.pinPoint&&(r=this.pinPoint instanceof jQuery?this.pinPoint.offset().top:this.pinPoint),this.offset&&(n-=this.offset),this.pinOffset&&(r-=this.pinOffset),t>=n&&"fixed"!==this.state?(!r||r>t)&&this.fix():n>t&&"fixed"===this.state?this.unfix():r&&t>=r&&"pinned"!==this.state&&this.pin()},t.prototype.fix=function(){Gumby.debug("Element has been fixed",this.$el),Gumby.debug("Triggering onFixed event",this.$el),this.state="fixed",this.$el.css({top:0+this.top}).addClass("fixed").removeClass("unfixed pinned").trigger("gumby.onFixed"),this.$parent&&this.constrain()},t.prototype.unfix=function(){Gumby.debug("Element has been unfixed",this.$el),Gumby.debug("Triggering onUnfixed event",this.$el),this.state="unfixed",this.$el.addClass("unfixed").removeClass("fixed pinned").trigger("gumby.onUnfixed")},t.prototype.pin=function(){Gumby.debug("Element has been pinned",this.$el),Gumby.debug("Triggering onPinned event",this.$el),this.state="pinned",this.$el.css({top:this.$el.offset().top}).addClass("pinned fixed").removeClass("unfixed").trigger("gumby.onPinned")},t.prototype.constrain=function(){Gumby.debug("Constraining element",this.$el),this.$el.css({left:this.measurements.left,width:this.measurements.width})},t.prototype.measure=function(){var e,t=this.$parent.offset();this.measurements.left=t.left,this.measurements.width=this.$parent.width(),this.parentRow&&(e=Number(this.$parent.css("paddingLeft").replace(/px/,"")),e&&(this.measurements.left+=e))},t.prototype.parseAttrValue=function(t){if(e.isNumeric(t))return Number(t);if("top"===t)return this.$el.offset().top;var n=e(t);return n.length?n:(Gumby.error("Cannot find Fixed target: "+t),!1)},Gumby.addInitalisation("fixed",function(n){e("[data-fixed],[gumby-fixed],[fixed]").each(function(){var r=e(this);return r.data("isFixed")&&!n?!0:r.data("isFixed")&&n?(r.trigger("gumby.initialize"),!0):(r.data("isFixed",!0),new t(r),void 0)})}),Gumby.UIModule({module:"fixed",events:["initialize","onFixed","onUnfixed"],init:function(){Gumby.initialize("fixed")}})}(jQuery),!function(e){"use strict";function t(e){Gumby.debug("Initializing Navbar",e),this.$el=e,this.$dropDowns=this.$el.find("li:has(.dropdown)"),this.$dropDowns.on(Gumby.click,this.toggleDropdown).on("swiperight",this.openLink),"#"!==this.$dropDowns.children("a").attr("href")&&this.$dropDowns.children("a").append('<i class="icon-popup"></i>').children("i").on(Gumby.click,this.openLink),this.$dropDowns.find(".dropdown li:not(:has(.dropdown)) a[href]").on(Gumby.click,this.openLink)}Gumby.gumbyTouch&&(t.prototype.toggleDropdown=function(t){t.preventDefault();var n=e(this);n.hasClass("active")?n.removeClass("active"):n.addClass("active")},t.prototype.openLink=function(t){t.preventDefault();var n,r=e(this),i=r;r.is("i")?i=r.parent("a"):r.is("li")&&(i=r.children("a")),n=i.attr("href"),"blank"==i.attr("target")?window.open(n):window.location=n},Gumby.addInitalisation("navbar",function(){e(".navbar").each(function(){var n=e(this);return n.data("isNavbar")?!0:(n.data("isNavbar",!0),new t(n),void 0)})}),Gumby.UIModule({module:"navbar",events:[],init:function(){Gumby.initialize("navbar")}}))}(jQuery),!function(e){"use strict";function t(e){Gumby.debug("Initializing Radio Button",e),this.$el=e,this.$input=this.$el.find("input[type=radio]");var t=this;this.$el.on(Gumby.click,function(e){e.preventDefault(),t.$input.is("[disabled]")||t.update()}).on("gumby.check",function(){Gumby.debug("Check event triggered",t.$el),t.update()}),(this.$input.prop("checked")||this.$el.hasClass("checked"))&&t.update(!0)}t.prototype.update=function(){if(!(this.$el.hasClass("checked")&&this.$input.prop("checked")&&this.$el.find("i.icon-dot").length)){Gumby.debug("Updating Radio Button group",this.$el);var t=this.$el.find("span"),n='input[name="'+this.$input.attr("name")+'"]';e(".radio").has(n).removeClass("checked").find("input").prop("checked",!1).end().find("i").remove(),this.$input.prop("checked",!0),t.append('<i class="icon-dot" />'),Gumby.debug("Triggering onCheck event",this.$el),this.$el.addClass("checked").trigger("gumby.onCheck")}},Gumby.addInitalisation("radiobtn",function(){e(".radio").each(function(){var n=e(this);return n.data("isRadioBtn")?!0:(n.data("isRadioBtn",!0),new t(n),void 0)})}),Gumby.UIModule({module:"radiobtn",events:["onCheck","check"],init:function(){Gumby.initialize("radiobtn")}})}(jQuery),!function(e){"use strict";function t(t){Gumby.debug("Initializing Retina",t),this.$el=t,this.imageSrc=this.$el.attr("src"),this.retinaSrc=this.fetchRetinaImage(),this.$retinaImg=e(new Image);var n=this;return this.retinaSrc?(this.$retinaImg.attr("src",this.retinaSrc).load(function(){n.retinaImageLoaded()}).error(function(){Gumby.error("Couln't load retina image: "+n.retinaSrc)}),void 0):!1}t.prototype.fetchRetinaImage=function(){var e=this.imageSrc,t=this.imageSrc.search(/(\.|\/)(gif|jpe?g|png)$/i);return 0>t?!1:e.substr(0,t)+"@2x"+e.substr(t,e.length)},t.prototype.retinaImageLoaded=function(){Gumby.debug("Swapping image for retina version",this.$el),Gumby.debug("Triggering onRetina event",this.$el),this.$el.attr("src",this.$retinaImg.attr("src")).trigger("gumby.onRetina")},Gumby.addInitalisation("retina",function(){!window.devicePixelRatio||window.devicePixelRatio<=1||e("img[data-retina],img[gumby-retina],img[retina]").each(function(){var n=e(this);return n.data("isRetina")?!0:(n.data("isRetina",!0),new t(n),void 0)})}),Gumby.UIModule({module:"retina",events:["onRetina"],init:function(){Gumby.initialize("retina")}})}(jQuery),!function(e){"use strict";function t(e){Gumby.debug("Initializing Skiplink",e),this.$el=e,this.targetPos=0,this.duration=0,this.offset=!1,this.easing="",this.update=!1,this.setup();var t=this;this.$el.on(Gumby.click+" gumby.skip",function(e){e.preventDefault(),"skip"===e.namespace&&Gumby.debug("Skip event triggered",t.$el),t.update?t.calculateTarget(t.skipTo):t.skipTo()}).on("gumby.initialize",function(){Gumby.debug("Re-initializing Skiplink",t.$el),t.setup()})}t.prototype.setup=function(){this.duration=Number(Gumby.selectAttr.apply(this.$el,["duration"]))||200,this.offset=Gumby.selectAttr.apply(this.$el,["offset"])||!1,this.easing=Gumby.selectAttr.apply(this.$el,["easing"])||"swing",this.update=Gumby.selectAttr.apply(this.$el,["update"])?!0:!1,this.calculateTarget()},t.prototype.calculateTarget=function(t){var n,r=Gumby.selectAttr.apply(this.$el,["goto"]);if("top"==r)this.targetPos=0;else if(e.isNumeric(r))this.targetPos=Number(r);else{if(n=e(r),!n.length)return Gumby.error("Cannot find skiplink target: "+r),!1;this.targetPos=n.offset().top}t&&t.apply(this)},t.prototype.skipTo=function(){Gumby.debug("Skipping to target",this.$el);var t=this;e("html,body").animate({scrollTop:this.calculateOffset()},this.duration,this.easing).promise().done(function(){Gumby.debug("Triggering onComplete event",t.$el),t.$el.trigger("gumby.onComplete")})},t.prototype.calculateOffset=function(){if(!this.offset)return this.targetPos;var e=this.offset.substr(0,1),t=Number(this.offset.substr(1,this.offset.length));return"-"===e?this.targetPos-t:"+"===e?this.targetPos+t:void 0},Gumby.addInitalisation("skiplink",function(n){e(".skiplink > a, .skip").each(function(){var r=e(this);return r.data("isSkipLink")&&!n?!0:r.data("isSkipLink")&&n?(r.trigger("gumby.initialize"),!0):(r.data("isSkipLink",!0),new t(r),void 0)})}),Gumby.UIModule({module:"skiplink",events:["initialize","onComplete","skip"],init:function(){Gumby.initialize("skiplink")}})}(jQuery),!function(e){"use strict";function t(t){Gumby.debug("Initializing Tabs",t),this.$el=t,this.$nav=this.$el.find("ul.tab-nav > li"),this.$content=this.$el.find(".tab-content");var n=this;this.$nav.children("a").on(Gumby.click,function(t){t.preventDefault(),n.click(e(this))}),this.$el.on("gumby.set",function(e,t){Gumby.debug("Set event triggered",n.$el),n.set(e,t)})}t.prototype.click=function(e){var t=e.parent().index();this.$nav.eq(t).add(this.$content.eq(t)).hasClass("active")||(Gumby.debug("Setting active tab to "+t,this.$el),this.$nav.add(this.$content).removeClass("active"),this.$nav.eq(t).add(this.$content.eq(t)).addClass("active"),Gumby.debug("Triggering onChange event",this.$el),this.$el.trigger("gumby.onChange",t))},t.prototype.set=function(e,t){this.$nav.eq(t).find("a").trigger(Gumby.click)},Gumby.addInitalisation("tabs",function(){e(".tabs").each(function(){var n=e(this);return n.data("isTabs")?!0:(n.data("isTabs",!0),new t(n),void 0)})}),Gumby.UIModule({module:"tabs",events:["onChange","set"],init:function(){Gumby.initialize("tabs")}})}(jQuery),!function(e){"use strict";function t(t){this.$el=e(t),this.targets=[],this.on="",this.className="",this.self=!1,this.$el.length&&(Gumby.debug("Initializing Toggle",t),this.init())}function n(t){this.$el=e(t),this.targets=[],this.on="",this.className="",this.self=!1,this.$el.length&&(Gumby.debug("Initializing Switch",t),this.init())}t.prototype.init=function(){var e=this;this.setup(),this.$el.on(this.on,function(t){t.preventDefault(),e.trigger(e.triggered)}).on("gumby.trigger",function(){Gumby.debug("Trigger event triggered",e.$el),e.trigger(e.triggered)}).on("gumby.initialize",function(){Gumby.debug("Re-initializing "+e.constructor,$el),e.setup()})},t.prototype.setup=function(){this.targets=this.parseTargets(),this.on=Gumby.selectAttr.apply(this.$el,["on"])||Gumby.click,this.className=Gumby.selectAttr.apply(this.$el,["classname"])||"active",this.self="false"===Gumby.selectAttr.apply(this.$el,["self"])},t.prototype.parseTargets=function(){var t=Gumby.selectAttr.apply(this.$el,["trigger"]),n=0,r=[];return t?(n=t.indexOf("|"),-1===n?this.checkTargets([t])?[e(t)]:!1:(r=t.split("|"),this.checkTargets(r)?r.length>1?[e(r[0]),e(r[1])]:[e(r[0])]:!1)):!1},t.prototype.checkTargets=function(t){var n=0;for(n;n<t.length;n++)if(t[n]&&!e(t[n]).length)return Gumby.error("Cannot find "+this.constructor.name+" target: "+t[n]),!1;return!0},t.prototype.triggered=function(){Gumby.debug("Triggering onTrigger event",this.$el),this.$el.trigger("gumby.onTrigger",[this.$el.hasClass(this.className)])},n.prototype=new t,n.prototype.constructor=n,t.prototype.trigger=function(e){Gumby.debug("Triggering Toggle",this.$el);var t;this.targets?1==this.targets.length?this.$el.add(this.targets[0]).toggleClass(this.className):this.targets.length>1&&(this.targets[0].hasClass(this.className)?(t=this.targets[0],this.self||(t=t.add(this.$el)),t.removeClass(this.className),this.targets[1].addClass(this.className)):(t=this.targets[0],this.self||(t=t.add(this.$el)),t.addClass(this.className),this.targets[1].removeClass(this.className))):this.$el.toggleClass(this.className),e&&"function"==typeof e&&e.apply(this)},n.prototype.trigger=function(e){Gumby.debug("Triggering Switch",this.$el);var t;this.targets?1==this.targets.length?(t=this.targets[0],this.self||(t=t.add(this.$el)),t.addClass(this.className)):this.targets.length>1&&(t=this.targets[0],this.self||(t=t.add(this.$el)),t.addClass(this.className),this.targets[1].removeClass(this.className)):this.$el.addClass(this.className),e&&"function"==typeof e&&e.apply(this)},Gumby.addInitalisation("toggles",function(n){e(".toggle").each(function(){var r=e(this);return r.data("isToggle")&&!n?!0:(r.data("isToggle")&&n&&r.trigger("gumby.initialize"),r.data("isToggle",!0),new t(r),void 0)})}),Gumby.addInitalisation("switches",function(t){e(".switch").each(function(){var r=e(this);return r.data("isSwitch")&&!t?!0:r.data("isSwitch")&&t?(r.trigger("gumby.initialize"),!0):(r.data("isSwitch",!0),new n(r),void 0)})}),Gumby.UIModule({module:"toggleswitch",events:["initialize","trigger","onTrigger"],init:function(){Gumby.initialize("switches"),Gumby.initialize("toggles")}})}(jQuery),!function(e){"use strict";function t(e,t){Gumby&&Gumby.debug("Initializing Validation",e),this.$this=e,this.$field=this.$this.parents(".field"),this.req=t||function(){return!!this.$this.val().length};var n=this;this.$this.is("[type=checkbox], [type=radio]")?(this.$field=this.$this.parent("label"),this.$field.on("gumby.onChange",function(){n.validate()})):this.$this.is("select")?(this.$field=this.$this.parents(".picker"),this.$field.on("change",function(){n.validate()})):this.$this.on("blur",function(e){9!==e.which&&n.validate()})}t.prototype.validate=function(){var e=this.req(this.$this);return e?this.$field.removeClass("danger").addClass("success"):this.$field.removeClass("success").addClass("danger"),e},e.fn.validation=function(n){var r=e.extend({submit:!1,fail:!1,required:[]},n),i=[];return this.each(function(){if(!r.required.length)return!1;var n,o=e(this),u=r.required.length;for(n=0;u>n;n++)i.push(new t(o.find('[name="'+r.required[n].name+'"]'),r.required[n].validate||!1));o.on("submit",function(e){var t=!1;if(!o.data("passed")){e.preventDefault();var n,u=i.length;for(n=0;u>n;n++)i[n].validate()||(t=!0);if(t){if(r.fail&&"function"==typeof r.fail)return r.fail(),void 0}else{if(r.submit&&"function"==typeof r.submit)return r.submit(o.serializeArray()),void 0;o.data("passed",!0).submit()}}})})}}(jQuery),!function(){"use strict";function e(e){Gumby.debug("Initializing FitText",e),this.$el=e,this.rate=0,this.fontSizes={},this.debugDelay=0,this.setup();var t=this;this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing FitText",t.$el),t.setup(),t.resize()}),jQuery(window).on("load resize orientationchange",function(){t.resize()}),this.resize()}e.prototype.setup=function(){this.rate=Number(Gumby.selectAttr.apply(this.$el,["rate"]))||1,this.fontSizes=this.parseSizes(Gumby.selectAttr.apply(this.$el,["sizes"]))},e.prototype.resize=function(){var e=this.calculateSize(),t=this;this.$el.css("font-size",e),clearTimeout(this.debugDelay),this.debugDelay=setTimeout(function(){Gumby.debug("Updated font size to "+e+"px",t.$el)},200)},e.prototype.calculateSize=function(){return Math.max(Math.min(this.$el.width()/(10*this.rate),parseFloat(this.fontSizes.max)),parseFloat(this.fontSizes.min))},e.prototype.parseSizes=function(e){var t={min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY};return e?(e.indexOf("|")>-1&&(e=e.split("|"),t.min=Number(e[0])||t.min,t.max=Number(e[1])||t.max),t.min=Number(e)||t.min,t):t},Gumby.addInitalisation("fittext",function(n){jQuery(".fittext").each(function(){var r=jQuery(this);return r.data("isFittext")&&!n?!0:r.data("isFittext")&&n?(r.trigger("gumby.initialize"),!0):(r.data("isFittext",!0),new e(r),void 0)})}),Gumby.UIModule({module:"fittext",events:["initialize"],init:function(){Gumby.initialize("fittext")}})}(),!function(){"use strict";function e(e){Gumby.debug("Initializing Shuffle",e),this.$el=e,this.$children=[],this.children=[],this.shuffles=[],this.def="",this.current="";var t=this;this.setup(),jQuery(window).on("load resize",function(){t.handleTests()}),this.$el.on("gumby.shuffle",function(){Gumby.debug("Shuffle event triggered",t.$el),t.handleTests()}).on("gumby.initialize",function(){Gumby.debug("Re-initializing shuffle module",t.$el),t.setup()}),t.handleTests()}e.prototype.setup=function(){this.$children=this.$el.children(Gumby.selectAttr.apply(this.$el,["children"])),this.children=jQuery.makeArray(this.$children),this.shuffles=this.parseAttrValue(Gumby.selectAttr.apply(this.$el,["shuffle"])),this.def=this.defaultSequence(this.$children.length),this.current="default"},e.prototype.handleTests=function(){var e=this,t=!1;window.matchMedia&&jQuery(this.shuffles).each(function(n,r){return window.matchMedia(r.test).matches?(e.current!==r.test&&(e.current=r.test,e.shuffle(r.sequence)),t=!0,!1):void 0}),t||"default"===this.current||(this.current="default",e.shuffle(this.def))},e.prototype.shuffle=function(e){var t=this,n=[],r=[];e?(n=e.split("-"),jQuery(n).each(function(e){r.push(jQuery(t.children[Number(n[e])]))})):r=this.children,this.$children.remove(),jQuery(r).each(function(){t.$el.append(jQuery(this))}),Gumby.debug("Children shuffled",r,t.$el),Gumby.debug("Triggering onShuffle event",this.$el),this.$el.trigger("gumby.onShuffle",[jQuery(r)])},e.prototype.defaultSequence=function(e){var t="",n=0;for(n;e>n;n++)t+=n+"-";return t.substr(0,t.length-1)},e.prototype.parseAttrValue=function(e){var t=e.split(","),n=[],r=[];return jQuery(t).each(function(e,t){return r=t.split("|"),2!==r.length?!0:(n.push({test:r[0],sequence:r[1]}),void 0)}),n},Gumby.addInitalisation("shuffle",function(n){jQuery("[data-shuffle],[gumby-shuffle],[shuffle]").each(function(){var r=jQuery(this);return r.data("isShuffle")&&!n?!0:r.data("isShuffle")&&n?(r.trigger("gumby.initialize"),!0):(r.data("isShuffle",!0),new e(r),void 0)})}),Gumby.UIModule({module:"shuffle",events:["onShuffle","shuffle"],init:function(){Gumby.initialize("shuffle")}})}(),!function(){"use strict";function e(e){Gumby.debug("Initializing Responsive Images module",e),this.$el=e,this.type="",this.supports="",this.media="",this.def="",this.current="",this.setup();var t=this;jQuery(window).on("load gumby.trigger "+(!this.media||"resize"),function(){t.fire()}),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing Responsive Images module",t.$el),t.setup(),t.fire()}),t.fire()}e.prototype.setup=function(){this.type=this.$el.is("img")?"img":"bg",this.supports=Gumby.selectAttr.apply(this.$el,["supports"])||!1,this.media=Gumby.selectAttr.apply(this.$el,["media"])||!1,this.def=Gumby.selectAttr.apply(this.$el,["default"])||!1,this.supports&&(this.supports=this.parseAttr(this.supports)),this.media&&(this.media=this.parseAttr(this.media)),this.checks={supports:function(e){return Modernizr[e]},media:function(e){return window.matchMedia(e).matches}}},e.prototype.fire=function(){var e=!1;return this.supports&&Modernizr&&(e=this.handleTests("supports",this.supports)),this.media&&window.matchMedia&&!e&&(e=this.handleTests("media",this.media)),!e&&this.def&&(e=this.def),e?(this.current!==e&&(this.current=e,this.insertImage(this.type,e)),void 0):(Gumby.warn("No responsive images tests passed",this.$el),!1)},e.prototype.handleTests=function(e,t){var n=this,r=!1;return jQuery(t).each(function(t,s){return n.check(e,s.test)?(r=s.img,!1):void 0}),r},e.prototype.check=function(e,t){return this.checks[e](t)},e.prototype.insertImage=function(e,t){var n=this,r=jQuery(new Image);r.load(function(){"img"===e?n.$el.attr("src",t):n.$el.css("background-image","url("+t+")"),Gumby.debug("Triggering onChange event",t,n.$el),n.$el.trigger("gumby.onChange",[t])}).attr("src",t)},e.prototype.parseAttr=function(e){var t=e.split(","),n=[],r=[];return jQuery(t).each(function(e,t){return r=t.split("|"),2!==r.length?!0:(n.push({test:r[0],img:r[1]}),void 0)}),n},Gumby.addInitalisation("images",function(n){jQuery("[gumby-supports],[data-supports],[supports],[gumby-media],[data-media],[media]").each(function(){var r=jQuery(this);return r.data("isImage")&&!n?!0:r.data("isImage")&&n?(r.trigger("gumby.initialize"),!0):(r.data("isImage",!0),new e(r),void 0)})}),Gumby.UIModule({module:"images",events:["onChange","trigger"],init:function(){Gumby.initialize("images")}})}(),!function(){"use strict";function e(e){Gumby.debug("Initializing Parallax",e),this.$el=e,this.$holder={},this.ratio=this.offset=0;var t=this;this.setup(),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing Parallax",t.$el),t.setup()}),this.setPosition(),this.$holder.scroll(function(){t.scroll()}),this.scroll()}Gumby.gumbyTouch||(e.prototype.setup=function(){this.$holder=Gumby.selectAttr.apply(this.$el,["holder"]),this.ratio=Number(Gumby.selectAttr.apply(this.$el,["parallax"]))||1,this.offset=Number(Gumby.selectAttr.apply(this.$el,["offset"]))||0,this.startPos=(this.$el.offset().top-this.offset)*this.ratio,this.$holder&&(this.$holder=jQuery(this.$holder)),this.$holder&&this.$holder.length?this.startPos-=this.$holder.offset().top:this.$holder=jQuery(window)},e.prototype.scroll=function(){this.setPosition(this.startPos-this.$holder.scrollTop()*this.ratio)},e.prototype.setPosition=function(e){this.$el.css("backgroundPosition","50% "+e+"px")},Gumby.addInitalisation("parallax",function(){jQuery(".parallax").each(function(){var n=jQuery(this);return n.data("isParallax")?!0:(n.data("isParallax",!0),new e(n),void 0)})}),Gumby.UIModule({module:"parallax",events:[],init:function(){Gumby.initialize("parallax")}}))}(),!function(e){"use strict";function t(e){Gumby.debug("Initializing InViewWatcher",e),this.$el=e;var t=this;this.setup(),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing InViewWatcher",t.$el),t.setup()})}t.prototype.setup=function(){Gumby.debug("Setting up instance of InViewWatcher",this.$el),this.targets=this.parseTargets();var e=Gumby.selectAttr.apply(this.$el,["classname"]);e?e.indexOf("|")>-1?(e=e.split("|"),this.classname=e[0],this.classnameBottom=e[1]||"",this.classnameTop=e[2]||e[1]||""):(this.classname=e,this.classnameBottom="",this.classnameTop=""):(this.classname="active",this.classnameBottom="",this.classnameTop="");var t=Gumby.selectAttr.apply(this.$el,["offset"]);t=0!=t?t.split("|"):0,this.offset=t[0]||0,this.offsetTop=t[1]||t[0],this.offsetBottom=this.offset},t.prototype.parseTargets=function(){var t=Gumby.selectAttr.apply(this.$el,["target"]);if(!t)return!1;var n=t.split("|");return 1===n.length?e(n[0]):e(n.join(", "))};var n,r,i,s,o,u,a,f,l=e(window).height(),c=[];e(window).on("scroll",function(){for(n=e(this).scrollTop(),r=0;r<c.length&&(i=c[r],s=i.targets||i.$el,"none"!=i.$el.css("display"));r++){o=i.$el.offset().top,u=i.$el.height(),a=i.offsetTop,f=i.offsetBottom;var t=o>n-f+l,p=n>o+u-a;p||t?p&&!t?(s.hasClass(i.classname)&&s.removeClass(i.classname),s.hasClass(i.classnameBottom)&&s.removeClass(i.classnameBottom),s.hasClass(i.classnameTop)||(s.addClass(i.classnameTop),s.trigger("gumby.offtop"))):t&&!p&&(s.hasClass(i.classname)&&s.removeClass(i.classname),s.hasClass(i.classnameTop)&&s.removeClass(i.classnameTop),s.hasClass(i.classnameBottom)||(s.addClass(i.classnameBottom),s.trigger("gumby.offbottom"))):(s.hasClass(i.classnameTop)&&s.removeClass(i.classnameTop),s.hasClass(i.classnameBottom)&&s.removeClass(i.classnameBottom),s.hasClass(i.classname)||(s.addClass(i.classname),s.trigger("gumby.inview")))}}),e(window).on("resize",function(){l=e(this).height(),e(window).trigger("scroll")}),Gumby.addInitalisation("inview",function(n){e(".inview").each(function(){var r=e(this);return r.data("isInView")&&!n?!0:(r.data("isInView")&&n&&r.trigger("gumby.initialize"),r.data("isInView",!0),c.push(new t(r)),void 0)})}),Gumby.UIModule({module:"inview",events:["initialize","trigger","onTrigger"],init:function(){Gumby.initialize("inview")}})}(jQuery),!function(e){"use strict";function t(e){for(var t,n,r,i=0,s=e.length,o=[];s>i;i++)t=e[i],n=t.getAttribute(l.insert)||"beforeend",r={element:t,insert:n,media:t.getAttribute(l.media)||!1,supports:t.getAttribute(l.supports)||!1},o.push(r);return o}function n(e){e="string"==typeof e?e:!1,this.forEach(function(t){"supports"!==e&&e||!t.supports?"media"!==e&&e||!t.media||r.apply(t):i.apply(t)})}function r(){return this.media&&window.matchMedia?window.matchMedia(this.media).matches&&"complete"!==this.element.getAttribute(l.media)?(u.apply(this),void 0):void 0:void 0}function i(){return this.supports&&Modernizr&&"complete"!==this.element.getAttribute(l.support)?s(this.supports.split(","))?(u.apply(this),void 0):void 0:void 0}function s(e){return e.length>1?o(e):Modernizr[e]}function o(e){var t=!0;return e.forEach(function(e){Modernizr[e]||(t=!1)}),t}function u(){for(var e=this.element.childNodes.length,t=0;e>t;t++)8===this.element.childNodes[t].nodeType&&a.apply(this,[t])}function a(e){this.element.insertAdjacentHTML(this.insert,this.element.childNodes[e].textContent),this.element.setAttribute(l.media,"complete"),f.apply(this)}function f(){e(this.element).trigger("gumby.onInsert")}var l={media:"gumby-comment-media",supports:"gumby-comment-supports",insert:"gumby-comment-insert"};if(window.addEventListener){Gumby.addInitalisation("comments",function(){var e=t(document.querySelectorAll("["+l.media+"],["+l.supports+"]"));window.addEventListener("resize",n.bind(e,"media")),window.addEventListener("load",n.bind(e))}),Gumby.UIModule({module:"comments",events:["onInsert"],init:function(){Gumby.initialize("comments")}})}}(jQuery),!function(e){"use strict";Gumby.touchDevice&&Gumby.touchEvents||!Gumby.autoInit?Gumby.touchEvents&&Gumby.touchDevice&&(Gumby.debug("Loading jQuery mobile touch events"),yepnope.errorTimeout=2e3,Modernizr.load({test:Modernizr.touch,yep:Gumby.touchEvents+"/jquery.mobile.custom.min.js",complete:function(){e.mobile||Gumby.error("Error loading jQuery mobile touch events"),Gumby.touchEventsLoaded=!0,Gumby.autoInit?window.Gumby.init():Gumby.uiModulesReady&&Gumby.helpers()}})):window.Gumby.init(),"function"==typeof define&&define.amd&&define(window.Gumby)}(jQuery),window.matchMedia=window.matchMedia||function(e){"use strict";var t,n=e.documentElement,r=n.firstElementChild||n.firstChild,i=e.createElement("body"),s=e.createElement("div");return s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",i.style.background="none",i.appendChild(s),function(e){return s.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(i,r),t=42===s.offsetWidth,n.removeChild(i),{matches:t,media:e}}}(document),function(e,t,n){function r(e){var t={},r=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!r.test(n.name)&&(t[n.name]=n.value)}),t}function i(e,r){var i=this,s=n(i);if(i.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){if(s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id")),e===!0)return s[0].value=r;s.focus()}else i.value="",s.removeClass("placeholder"),i==t.activeElement&&i.select()}function s(){var e,t=this,s=n(t),o=this.id;if(""==t.value){if("password"==t.type){if(!s.data("placeholder-textinput")){try{e=s.clone().attr({type:"text"})}catch(u){e=n("<input>").attr(n.extend(r(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":o}).bind("focus.placeholder",i),s.data({"placeholder-textinput":e,"placeholder-id":o}).before(e)}s=s.removeAttr("id").hide().prev().attr("id",o).show()}s.addClass("placeholder"),s[0].value=s.attr("placeholder")}else s.removeClass("placeholder")}var o,u,a="placeholder"in t.createElement("input"),f="placeholder"in t.createElement("textarea"),l=n.fn,c=n.valHooks;a&&f?(u=l.placeholder=function(){return this},u.input=u.textarea=!0):(u=l.placeholder=function(){var e=this;return e.filter((a?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":i,"blur.placeholder":s}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},u.input=a,u.textarea=f,o={get:function(e){var t=n(e);return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,r){var o=n(e);return o.data("placeholder-enabled")?(""==r?(e.value=r,e!=t.activeElement&&s.call(e)):o.hasClass("placeholder")?i.call(e,!0,r)||(e.value=r):e.value=r,o):e.value=r}},a||(c.input=o),f||(c.textarea=o),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(i);setTimeout(function(){e.each(s)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return 1>(t/=i/2)?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return 1>(t/=i/2)?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return 1>(t/=i/2)?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return 1>(t/=i/2)?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return 0==t?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return 0==t?n:t==i?n+r:1>(t/=i/2)?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return 1>(t/=i/2)?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){e=1.70158;var s=0,o=r;return 0==t?n:1==(t/=i)?n+r:(s||(s=.3*i),o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o),-(o*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-e)*Math.PI/s))+n)},easeOutElastic:function(e,t,n,r,i){e=1.70158;var s=0,o=r;return 0==t?n:1==(t/=i)?n+r:(s||(s=.3*i),o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o),o*Math.pow(2,-10*t)*Math.sin(2*(t*i-e)*Math.PI/s)+r+n)},easeInOutElastic:function(e,t,n,r,i){e=1.70158;var s=0,o=r;return 0==t?n:2==(t/=i/2)?n+r:(s||(s=1.5*.3*i),o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o),1>t?-.5*o*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-e)*Math.PI/s)+n:.5*o*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*i-e)*Math.PI/s)+r+n)},easeInBack:function(e,t,n,r,i,s){return void 0==s&&(s=1.70158),r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){return void 0==s&&(s=1.70158),r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){return void 0==s&&(s=1.70158),1>(t/=i/2)?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?7.5625*r*t*t+n:2/2.75>t?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){return i/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,r,i)+n:.5*jQuery.easing.easeOutBounce(e,2*t-i,0,r,i)+.5*r+n}}),jQuery(function(){(Gumby.isOldie||jQuery("html").hasClass("ie9"))&&jQuery("input, textarea").placeholder()})